import random
from time import sleep

#DefiÃ§Ãµes dos status iniciais:
vida_maxima = 1000
nivel = 1  
experiencia = 0
poÃ§Ãµes = 20
forca = 1000
constituicao = 0
vida_jogador = vida_maxima + constituicao
nome = input("\nOlÃ¡, guerreiro(a)... Digite o seu nome: ")
nome = nome.lower().capitalize()

# HistÃ³ria do jogo:
print("________________________________________________________________________________________________________________")
print(f"\nOlÃ¡, {nome}, seja bem-vindo a Legenda City!\n")
print("A cidade precisa de um herÃ³i para enfrentar os perigos que assolam a regiÃ£o...\n")
print("________________________________________________________________________________________________________________")
print(f"\nBem-vindo ao inÃ­cio de sua jornada, {nome}!\n")
print(f"\nAgora, {nome}, como o novo herÃ³i, vocÃª saberÃ¡ o verdadeiro motivo de ter sido convocado...\n")
sleep(2)
print("\n    HÃ¡ milÃªnios, a terra de Legend City foi governada por dragÃµes e seres mÃ¡gicos imortais. Eles criaram os primeiros reinos e mantiveram o equilÃ­brio do mundo. No entanto, uma forÃ§a sombria comeÃ§ou a se espalhar pelas terras, um poder desconhecido que corrompeu tudo o que tocava. Esse poder, conhecido como Magia Sombria, era alimentado pela ambiÃ§Ã£o e pelo Ã³dio de um mago que, uma vez, foi um dos sÃ¡bios mais respeitados de todo o continente.")
sleep(2)
print("\n    Esse mago, chamado Zalderath, o Corrompido, buscou mais poder do que qualquer um poderia imaginar. Ele invocou o prÃ³prio DemÃ´nio da EscuridÃ£o, que lhe concedeu um poder infinito, mas tambÃ©m o transformou em um ser que nÃ£o era mais humano. Agora, Zalderath controla um exÃ©rcito de monstros e criaturas deformadas, espalhando a escuridÃ£o por todo o mundo.")
sleep(2)
print("\n    No entanto, os antigos sabiam que nÃ£o haveria esperanÃ§a sem a chegada de um herÃ³i. A Profecia do Destino dizia que quando a cidade de Legend City fosse tomada pela escuridÃ£o e o mago corrompido estivesse perto de conquistar o mundo, um herÃ³i de coraÃ§Ã£o puro e coragem inabalÃ¡vel surgiria para derrotÃ¡-lo e restaurar o equilÃ­brio.")
sleep(2)
print(f"\n    E Ã© aqui que vocÃª entra, {nome}, um simples morador de Legend City, atÃ© o momento em que seu destino se entrelaÃ§a com a profecia. VocÃª foi escolhido pelas forÃ§as do bem para cumprir essa missÃ£o. Mas, antes de enfrentar Zalderath, vocÃª terÃ¡ de passar por vÃ¡rias provaÃ§Ãµes, encontrar aliados poderosos, e conquistar sua verdadeira forÃ§a.")
sleep(2)
print("\n    Legend City estÃ¡ em ruÃ­nas. As ruas que antes eram repletas de alegria, agora estÃ£o cheias de sombras e lamentos. Os habitantes estÃ£o em pÃ¢nico, e os antigos templos de magia, agora corrompidos, tornaram-se esconderijos de criaturas malignas.")
sleep(2)
print("\n    VocÃª nÃ£o sabe ainda, mas o seu caminho serÃ¡ repleto de perigos, mistÃ©rios e revelaÃ§Ãµes. Durante sua jornada, vocÃª encontrarÃ¡ grupos secretos, ordens antigas, e atÃ© mesmo deuses adormecidos que podem ajudar ou tentar detÃª-lo. Seu destino serÃ¡ marcado por escolhas difÃ­ceis, onde vocÃª precisarÃ¡ decidir atÃ© onde vai em busca de justiÃ§a. A cada vitÃ³ria, vocÃª sentirÃ¡ o poder crescente dentro de si, mas tambÃ©m o peso da responsabilidade.\n")
sleep(2)

# Inimigos -> ([1]Nome, [2]Vida, [3]Frase dele, [4]Frase do jogador contra ele):
fases = [
    {"nome": "O Querubim feroz", "vida": 15, "ataque": 4, "fala": "\nO Querubim feroz: ğŸ˜‡ Minha ira cairÃ¡ sobre vocÃª! ğŸ‘¿", "frase": f"{nome}: VocÃª nÃ£o conseguirÃ¡ me deter... âš”ï¸ "},
    {"nome": "O Poltergeist", "vida": 20, "ataque": 5, "fala": "O Poltergeist: ğŸ‘» UHHHH! JÃ¡ vejo que estÃ¡ com medo...", "frase": f"{nome}: SerÃ¡ que chamo os Goosebusters? ğŸ‘»"},
    {"nome": "O Pistoleiro PlasmÃ¡tico", "vida": 25, "ataque": 6, "fala": "O Pistoleiro PlasmÃ¡tico: ğŸ”« Headshot na certa.", "frase": f"{nome}: NÃ£o se eu me desviar..."},
    {"nome": "O MercenÃ¡rio Sombrio", "vida": 28, "ataque": 7, "fala": "O MercenÃ¡rio Sombrio: âš°ï¸ A morte te espera!", "frase": f"{nome}: ğŸ¦¥ NÃ£o se eu for devagar."},
    {"nome": "O Feiticeiro das Sombras", "vida": 30, "ataque": 8, "fala": "O Feiticeiro das Sombras: ğŸ§™â€â™‚ï¸ Meus feitiÃ§os sÃ£o a sua fraqueza!", "frase": f"{nome}: Eu nÃ£o tenho fraquezas. ğŸ’ª"},
    {"nome": "O Ogro Selvagem", "vida": 35, "ataque": 10, "fala": "O Ogro Selvagem: ğŸ‘¹ HAHA! VocÃª Ã© pequeno demais!","frase": f"{nome}: ğŸ‘¦ Davi e Golias... 2Â° Round. ğŸ§Œ"},
    {"nome": "O CaÃ§ador de Zalderath", "vida": 40, "ataque": 12, "fala": "O CaÃ§ador de Zalderath: ğŸ•µï¸ SilÃªncio... VocÃª jÃ¡ estÃ¡ morto.","frase": f"{nome}: Bla, bla , bla..."},
    {"nome": "O Necromante", "vida": 45, "ataque": 13, "fala": "O Necromante: ğŸ§Ÿ Levantem-se, mortos! Destruam esse inseto! ğŸ§Ÿ", "frase": f"{nome}: ğŸ•¸ï¸ Quando eu virar aranha, te aviso. ğŸ•·ï¸"},
    {"nome": "O Golem de Pedra", "vida": 50, "ataque": 14, "fala": "O Golem de Pedra: ğŸª¨ Vou tranformar vocÃª em calcÃ¡rio...","frase": f"{nome}: ğŸª¨ NÃ£o precisa. JÃ¡ sou mais forte que uma pedra... ğŸ’ª"},
    {"nome": "O Aralto de Zalderath", "vida": 55, "ataque": 15, "fala": "O Aralto de Zalderath: ğŸ§™ Zalderath ordenou que eu termine essa terefa!", "frase": f"{nome}: ğŸ§‘â€ğŸ“ Esse dever de casa Ã© vitalÃ­cio. ğŸ§‘â€ğŸ«"},
    {"nome": "Zalderath, o Corrompido", "vida": 100, "ataque": 20, "fala": f"ğŸ‰ Eu esperei por vocÃª, {nome}... Heroizinho medÃ­ocre!! â˜ ï¸", "frase": f"{nome}: Mediocre Ã© a sua vovÃ³zinha."}
]

# Sistema de batalha:
def batalha(inimigo):
    global vida_jogador, experiencia, poÃ§Ãµes
    vida_inimigo = inimigo["vida"]
    print("________________________________________________________________________________________________________________")
    print(f"\nâš”ï¸  {inimigo['nome']} apareceu!\n")
    sleep(2)
    print(f"{inimigo['fala']}")
    sleep(1)
    print(f"{inimigo['frase']}")
    sleep(2)

    while vida_jogador > 0 and vida_inimigo > 0:
        print(f"\n{nome} - Vida: {vida_jogador} | PoÃ§Ãµes: {poÃ§Ãµes}")
        print(f"{inimigo['nome']} - Vida: {vida_inimigo}")
        print("\nO que deseja fazer?")
        print("1 - Atacar")
        print("2 - Usar PoÃ§Ã£o de Cura")
        escolha = input("\nEscolha sua aÃ§Ã£o: ")

        if escolha == "1":
            rolagem = random.randint(1, 20)

            if rolagem >= 17 and rolagem <= 20:
                dano = (forca + 8) * 2
                print("O dado foi jogado...")
                sleep(1)
                print("\nâš¡ GOLPE CRÃTICO! VocÃª causou um dano devastador!")

            elif rolagem <= 4:
                dano = 0
                print("O dado foi jogado...")
                sleep(1)
                print("\nâŒ VocÃª errou o ataque!")

            else:
                print("O dado foi jogado...")
                sleep(1)
                dano = forca + 8
            vida_inimigo -= dano
            sleep(1)
            print(f"\nVocÃª atacou e causou {dano} de dano!")

            if vida_inimigo <= 0:
                print(f"\nğŸ”¥ VocÃª derrotou {inimigo['nome']}!")
                experiencia += 20

                # Melhorando o personagem ao subir de nÃ­vel
                if experiencia == 40:
                    print("________________________________________________________________________________________________________________")
                    print("\nğŸ‰ VocÃª subiu de nÃ­vel!")
                    print("ğŸ“ˆ Sua vida estÃ¡ no mÃ¡ximo e o seu valor de ataque aumentou!")
                    vida_jogador = 0
                    dano = forca + 10
                    vida_jogador = vida_maxima
                    experiencia = 0

                else:
                    print("________________________________________________________________________________________________________________")
                    print(f"\nğŸ“Š ExperiÃªncia atual: {experiencia}EXP/40EXP")
                    return

            dano_inimigo = random.randint(1, 6) + inimigo["ataque"]
            vida_jogador -= dano_inimigo
            sleep(1)
            print(f"{inimigo['nome']} atacou e causou {dano_inimigo} de dano em vocÃª!")
            
        elif escolha == "2":
            if poÃ§Ãµes == 0:
                print("VocÃª nÃ£o tem mais poÃ§Ãµes!")
                

            elif poÃ§Ãµes >= 1:
                if vida_jogador < vida_maxima:
                    cura = random.randint(10, 20)
                    vida_jogador += cura
                    poÃ§Ãµes -= 1
                    sleep(1)
                    print(f"\nğŸ§ªğŸ’” VocÃª usou uma poÃ§Ã£o e recuperou {cura} de vida! ğŸ’–")
                   
                    if vida_jogador >= vida_maxima:
                        vida_jogador = 0
                        vida_jogador += vida_maxima
                        print("Sua vida estÃ¡ no mÃ¡ximo agora! ğŸ”¥")
                        
                    else:
                        continue   
                        
                elif vida_jogador == vida_maxima:
                    vida_jogador = 0
                    vida_jogador += vida_maxima
                    print("VocÃª nÃ£o pode usar essa poÃ§Ã£o... Sua vida jÃ¡ estÃ¡ no mÃ¡ximo! ğŸ”¥")
                    
                else:
                    continue    

        else:
            print("Essa opÃ§Ã£o nÃ£o Ã© vÃ¡lida...")
            print("\nâš”ï¸ VocÃª continua lutando!")

# Contador de fases:
# Passa as fases automaticamente quando o guerreiro consegue derrotar um dos inimigos.
for i, fases in enumerate(fases):
    print("________________________________________________________________________________________________________________")
    print("\nâš”ï¸  Prepare-se para a prÃ³xima batalha! âš”ï¸")
    sleep(2)
    batalha(fases)

    # Mensagem de derrota:  
    if vida_jogador <= 0:
        print("\nğŸ’€ VocÃª foi derrotado! A escuridÃ£o triunfou... ğŸ’€")
        exit()

# Zerando o jogo...
print(f"\nğŸ‰{nome}, vocÃª venceu Zalderath e salvou Legend City!")
sleep(5)
print(f"\n ApÃ³s derrotar Zalderath, o Corrompido, e restaurar a paz em Legend City, o povo celebra a vitÃ³ria com festas e homenagens. VocÃª, {nome}, Ã© aclamado como herÃ³i e reconhecido por sua coragem e forÃ§a. No entanto, algo estranho comeÃ§a a acontecer.")
sleep(2)
print(f"\nDurante a noite, vocÃª Ã© despertado por uma sensaÃ§Ã£o de frio intenso. Ao olhar pela janela, vÃª uma sombra se movendo rapidamente pela cidade. Ao investigar, encontra um antigo grimÃ³rio escondido sob os escombros do templo destruÃ­do por Zalderath. Ao tocÃ¡-lo, uma voz sussurra em sua mente: 'VocÃª nÃ£o pode escapar do seu destino.'")
sleep(2)
print(f"\nDe repente, vocÃª Ã© transportado para uma dimensÃ£o sombria, onde encontra Zalderath, agora mais poderoso do que nunca. Ele revela que a verdadeira fonte da Magia Sombria nÃ£o era ele, mas o prÃ³prio {nome}. VocÃª havia sido escolhido desde o inÃ­cio para ser o receptÃ¡culo da magia, e sua jornada foi uma manipulaÃ§Ã£o para liberar seu verdadeiro poder.")
sleep(2)
print(f"\nAgora, vocÃª deve decidir: aceitar seu destino como o novo mestre da Magia Sombria ou lutar contra a prÃ³pria essÃªncia que corre em suas veias")